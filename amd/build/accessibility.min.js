define ("theme_snap/accessibility",["jquery","core/str","core/event"],function(a,b,c){return{snapAxInit:function snapAxInit(c,d,e,f){b.get_strings([{key:"accessforumstringdis",component:"theme_snap"},{key:"accessforumstringmov",component:"theme_snap"},{key:"calendar",component:"calendar"},{key:"accessglobalsearchstring",component:"theme_snap"},{key:"viewcalendar",component:"theme_snap"},{key:"viewmyfeedback",component:"theme_snap"},{key:"viewmessaging",component:"theme_snap"},{key:"viewforumposts",component:"theme_snap"},{key:"editcoursesettings",component:"theme_snap"},{key:"pluginname",component:"local_joulegrader"},{key:"gradebook",component:"local_joulegrader"},{key:"gradebook",component:"core_grades"},{key:"numparticipants",component:"core_message"},{key:"pld",component:"theme_snap"},{key:"competencies",component:"core_competency"},{key:"outcomes",component:"core_outcome"},{key:"badges",component:"core_badges"},{key:"coursereport",component:"report_allylti"},{key:"pluginname",component:"local_catalogue"},{key:"experimental",component:"block_reports"}]).done(function(b){if(a("#page-mod-forum-discuss")){a("div[data-content='forum-discussion'] div.singleselect form.form-inline select.custom-select.singleselect").attr("aria-label",b[0]);a("div[data-content='forum-discussion'] div.movediscussionoption select.custom-select.urlselect").attr("aria-label",b[1])}a("i.fa-calendar").parent().attr("aria-label",b[2]);a("input[name='TimeEventSelector[calendar]']").attr("aria-label",b[2]);var g=a("#mr-nav .simplesearchform a.btn.btn-open");a(g).attr({title:b[3],"aria-label":b[3]});a("#snap-pm-updates section a.snap-personal-menu-more small:contains(\""+b[4]+"\")").attr("id","snap-pm-deadline");a("#snap-pm-updates section a.snap-personal-menu-more small:contains(\""+b[5]+"\")").attr("id","snap-pm-feedback");a("#snap-pm-updates section a.snap-personal-menu-more small:contains(\""+b[6]+"\")").attr("id","snap-pm-messages");a("#snap-pm-updates section a.snap-personal-menu-more small:contains(\""+b[7]+"\")").attr("id","snap-pm-forum-posts");a.expr[":"].contains=a.expr.createPseudo(function(b){return function(c){return 0<=a(c).text().toUpperCase().indexOf(b.toUpperCase())}});var h=b[12].split(" ");a("section#coursetools div#coursetools-list a:contains(\""+b[8]+"\")").attr("id","ct-course-settings");a("section#coursetools div#coursetools-list a:contains(\""+h[1]+"\")").attr("id","ct-participants-number");a("section#coursetools div#coursetools-list a:contains(\""+b[13]+"\")").attr("id","ct-pld");a("section#coursetools div#coursetools-list a:contains(\""+b[14]+"\")").attr("id","ct-competencies");a("section#coursetools div#coursetools-list a:contains(\""+b[15]+"\")").attr("id","ct-outcomes");a("section#coursetools div#coursetools-list a:contains(\""+b[16]+"\")").attr("id","ct-badges");if(c){a("section#coursetools div#coursetools-list a:contains(\""+b[9]+"\")").attr("id","ct-open-grader");a("section#coursetools div#coursetools-list a:contains(\""+b[10]+"\")").attr("id","ct-course-gradebook")}else{a("section#coursetools div#coursetools-list a:contains(\""+b[11]+"\")").attr("id","ct-course-gradebook")}if(e){a("section#coursetools div#coursetools-list a:contains(\"Open Reports\")").attr("id","ct-open-reports");a("section#coursetools div#coursetools-list a:contains(\""+b[19]+"\")").attr("id","ct-open-reports-experimental")}if(d){a("section#coursetools div#coursetools-list a:contains(\""+b[17]+"\")").attr("id","ct-ally")}if(f){a("section#coursetools div#coursetools-list a:contains(\""+b[18]+"\")").attr("id","ct-open-catalogue")}});a(document).ready(function(){a("#page-mod-data-edit input[id*='url']").attr("type","url").attr("autocomplete","url");a("#moodle-blocks aside#block-region-side-pre a.sr-only.sr-only-focusable").attr("tabindex","-1");a(".mform").submit(function(){a("input.form-control.is-invalid:first").focus()});var c=a(".groupmanagementtable #buttonscell p.arrow_button input[name=\"add\"]").attr("value"),d=a(".groupmanagementtable #buttonscell p.arrow_button input[name='remove']").attr("value");new g("snap-pm-accessible-tab");new g("modchooser-accessible-tab");var e=a(window);function b(){var b=e.width();if(1220>b){a(".groupmanagementtable #buttonscell p.arrow_button input[name='add']").attr("value","+");a(".groupmanagementtable #buttonscell p.arrow_button input[name='remove']").attr("value","-")}else if(1220<b){a(".groupmanagementtable #buttonscell p.arrow_button input[name='add']").attr("value",c);a(".groupmanagementtable #buttonscell p.arrow_button input[name='remove']").attr("value",d)}}b();a(window).resize(b)});function g(b){this._id=b;this.$tpanel=a("#"+b);this.$tabs=this.$tpanel.find(".tab");this.$panels=this.$tpanel.find(".tab-pane");this.bindHandlers();this.init()}g.prototype.keys={left:37,up:38,right:39,down:40};g.prototype.init=function(){var a;this.$panels.attr("aria-hidden","true");this.$panels.removeClass("active in");a=this.$tabs.filter(".active");if(a===void 0){a=this.$tabs.first();a.addClass("active")}this.$tpanel.find("#"+a.find("a").attr("aria-controls")).addClass("active in").attr("aria-hidden","false")};g.prototype.switchTabs=function(a,b){var c=a.find("a"),d=b.find("a");a.removeClass("active");c.attr("tabindex","-1").attr("aria-selected","false");b.addClass("active");d.attr("aria-selected","true");this.$tpanel.find("#"+c.attr("aria-controls")).removeClass("active in").attr("aria-hidden","true");this.$tpanel.find("#"+d.attr("aria-controls")).addClass("active in").attr("aria-hidden","false");d.attr("tabindex","0");d.focus()};g.prototype.bindHandlers=function(){var b=this;this.$tabs.keydown(function(c){return b.handleTabKeyDown(a(this),c)});this.$tabs.click(function(c){return b.handleTabClick(a(this),c)})};g.prototype.handleTabKeyDown=function(a,b){var c,d;switch(b.keyCode){case this.keys.left:case this.keys.up:{d=this.$tabs.index(a);if(0===d){c=this.$tabs.last()}else{c=this.$tabs.eq(d-1)}this.switchTabs(a,c);b.preventDefault();return!1}case this.keys.right:case this.keys.down:{d=this.$tabs.index(a);if(d===this.$tabs.length-1){c=this.$tabs.first()}else{c=this.$tabs.eq(d+1)}this.switchTabs(a,c);b.preventDefault();return!1}}};g.prototype.handleTabClick=function(a){var b=this.$tpanel.find(".tab.active");this.switchTabs(b,a)}},enhanceform:function enhanceform(b){var d=document.getElementById(b);a(d).on(c.Events.FORM_FIELD_VALIDATION,function(b,c){b.preventDefault();var e=a(d).closest(".form-group"),f=e.find(".form-control-feedback"),g=e.find("input.form-control.is-invalid");if("TEXTAREA"==a(d).prop("tagName")&&e.find("[contenteditable]")){d=e.find("[contenteditable]")}if(""!==c){e.addClass("has-danger");e.data("client-validation-error",!0);a(d).addClass("is-invalid");a(d).attr("aria-describedby",f.attr("id"));a(d).attr("aria-invalid",!0);g.attr("tabindex",0);f.html(c);if(!f.is(":visible")){f.show();f.focus()}}else{if(!0===e.data("client-validation-error")){e.removeClass("has-danger");e.data("client-validation-error",!1);a(d).removeClass("is-invalid");a(d).removeAttr("aria-describedby");a(d).attr("aria-invalid",!1);f.hide()}}})}}});
//# sourceMappingURL=accessibility.min.js.map
